(window["webpackJsonpjm-cra"]=window["webpackJsonpjm-cra"]||[]).push([[0],{159:function(e,t,n){e.exports=n.p+"static/media/dot.0702eca7.svg"},170:function(e,t,n){e.exports=n(336)},336:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(29),c=n.n(o),i=n(9),l=n(13),u=n(11),s=n(10),d=n(12),p=n(39),m=n(51),f=n(22),h=(n(179),n(150)),b=Object(r.createContext)({}),g=n(25),y=n(6),v=n(44),O=n.n(v),E=n(31),j=n.n(E);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var x=function(e){return"".concat(16*e,"px")},k=[22,36,48,62,90,120].map(x),S=[22,36,46,58].map(x),P=function(e,t){return[e,null,null,t]},C=function(e,t,n){return j()(10,100,10).reduce(function(r,a){return O()(r,Object(y.a)({},a,"rgba(".concat([e,t,n,a/100].join(),")")))},{})},D=["#9e7961","#f2bc4a","#ec921e","#ec6432","#d53d1f","#af1b08"],R=D[2],T=D[4],I=D[1],A=D[5],B=D.reduce(function(e,t,n){return e["orange".concat(n+1)]=t,e},{}),L={colors:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({white:"#fff",black:"#000",gray:"#7d7e80",dropdownBg:"#E7EAF6",lightGray:"#c9caca",darkGray:"#4c4948",darkBlue:"#2d3555",darkerBlue:"#171835",orange:R,darkOrange:T,lightOrange:I,darkRed:A,text:"#040000",primary:R,primaryHover:T,spectrum:D},B,{fade:{white:C(255,255,255),black:C(0,0,0)}}),breakpoints:k,containerWidth:S,font:'Comfortaa, Arial, "PingFang TC", "HeiTi TC", "Microsoft JhengHei", sans-serif',headerHeight:"5em",mobileOrDesktop:P,zOrder:j()(4).map(function(e){return Math.pow(10,e)}),gradients:{none:{},darkBlue:{backgroundImage:"linear-gradient(to right, ".concat("#2d3555",", ").concat("#171835",")"),color:"#fff"}}};function z(){var e=Object(g.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Comfortaa:400,700&display=swap');\n  body {\n    font-family: ",";\n    min-width: 100%;\n    min-height: 100%;\n    color: ",";\n  }\n"]);return z=function(){return e},e}var M=Object(f.b)(z(),L.font,L.colors.text),F=n(52),_=n.n(F),W=n(7),Y=[].concat(["margin","m","marginTop","mt","marginBottom","mb","marginLeft","ml","marginRight","mr","mx","my","padding","p","paddingTop","pt","paddingBottom","pb","paddingLeft","pl","paddingRight","pr","px","py","width","fontSize","fontFamily","fontWeight","lineHeight","textAlign","fontStyle","letterSpacing","display","maxWidth","minWidth","height","maxHeight","minHeight","color","backgroundColor","bg","verticalAlign","alignItems","alignContent","justifyItems","justifyContent","flexWrap","flexBasis","flexDirection","flex","justifySelf","alignSelf","order","gridGap","gridColumnGap","gridRowGap","gridColumn","gridRow","gridAutoFlow","gridAutoColumns","gridAutoRows","gridTemplateColumns","gridTemplateRows","gridTemplateAreas","gridArea","border","borderWidth","borderStyle","borderColor","borderTop","borderRight","borderBottom","borderLeft","borderRadius","boxShadow","opacity","overflow","background","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","position","zIndex","top","right","bottom","left"],["transform","transition","overflow","opacity","alpha","hoverColor","hoverBg","hoverBorder","hoverBgImg","zOrder","verticalAlign","whiteSpace","dispatch","isMobile","browser","gradient"]),U=function(e,t){return Object(W.p)(function(e,t){return O()({prop:e,cssProperty:e},t)}(e,t))};function N(){var e=Object(g.a)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var q=Object(f.d)(_.a)(N(),W.o,W.l,W.n,W.q,W.h,W.n,W.s,W.e,W.j,W.g,W.m,W.a,W.d,W.c,W.b,Object(W.r)({scale:"gradients",prop:"gradient"}),U("whiteSpace"),U("overflow"),U("transform"),U("transition"),Object(W.p)({prop:"zOrder",cssProperty:"zIndex",key:"zOrder"}),function(e){return e.onClick&&"cursor: pointer;"});q.defaultProps={blacklist:Y},q.displayName="Box",q.inline=Object(r.forwardRef)(function(e,t){return a.a.createElement(q,Object.assign({is:"span",ref:t,display:"inline-block",verticalAlign:"middle"},e))});var G=q,H=function(e){var t=e.children;return a.a.createElement(f.a,{theme:L},a.a.createElement(r.Fragment,null,a.a.createElement(h.SizeMe,null,function(e){var n=e.size.width,r=Math.round(Math.max(n,800)/94);return a.a.createElement(b.Provider,{value:{em:r}},a.a.createElement(G,{fontSize:r},t))}),a.a.createElement(M,null)))},J=n(26),V=n(49),X=n(166),K=n(41),Q=n.n(K),Z=n(37),$=n(33),ee=n(36),te=n.n(ee),ne=n(24),re=n.n(ne);function ae(e){return 204===e.status||205===e.status?null:e.json()}function oe(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function ce(e,t){return fetch(e,t).then(oe).then(ae)}var ie,le="https://relab.cc/law-api-test/v2",ue=n(341),se=n(340),de="STATUS_LOADING",pe="STATUS_LOADED",me="STATUS_ERROR",fe="API/GET_DATA",he=Object(ue.a)(fe),be=Object(ue.a)("API/RECEIVED_DATA_SUCCESS"),ge=Object(ue.a)("API/RECEIVED_DATA_ERROR"),ye=Object(V.fromJS)({}),ve=Object(se.a)((ie={},Object(y.a)(ie,he,function(e,t){var n=t.payload.key;return e.setIn([n,"status"],de)}),Object(y.a)(ie,be,function(e,t){var n=t.payload,r=n.key,a=n.data;return e.setIn([r,"status"],pe).setIn([r,"data"],a)}),Object(y.a)(ie,ge,function(e,t){var n=t.payload.key;return e.setIn([n,"status"],me)}),ie),ye),Oe=Q.a.mark(ke),Ee=Q.a.mark(Se),je=Q.a.mark(Pe),we=Q.a.mark(Ce),xe=function(e){return e};function ke(e,t,n){var r;return Q.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Z.b)(ce,e);case 3:return r=a.sent,a.next=6,Object(Z.c)(t(r));case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(0),console.error(a.t0),a.next=13,Object(Z.c)(n(a.t0));case 13:case"end":return a.stop()}},Oe,null,[[0,8]])}function Se(e){var t,n,r,a,o;return Q.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.key,r=t.params,a=re()(r)?te()(r,function(e,t,n){return"".concat(e).concat(n,"=").concat(encodeURIComponent(t),"&")},"?"):"",o="".concat(le,"/").concat(n).concat(a),c.next=5,Object(Z.b)(ke,o,function(e){return be({key:n,data:e})},function(){return ge({key:n})});case 5:case"end":return c.stop()}},Ee)}function Pe(e){var t,n,r,a,o,c;return Q.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.resourceType,n=e.resources,r=e.requestKey,a=e.requestParams,o=re()(a)?te()(a,function(e,t,n){return"".concat(e).concat(n,"=").concat(encodeURIComponent(t),"&")},"?"):"",c="".concat(le,"/").concat(t).concat(o),!n){i.next=8;break}return i.next=6,Object(Z.a)(n.map(function(e){return Object(Z.b)(ke,"".concat(c,"/").concat(e),function(e){return{type:$.a.READ_RESOURCES_SUCCEEDED,resourceType:t,resources:[xe(e)]}},function(){return{type:$.a.READ_RESOURCES_FAILED,resourceType:t,resources:[e]}})}));case 6:i.next=10;break;case 8:return i.next=10,Object(Z.b)(ke,c,function(e){var n=e.data;return{type:$.a.READ_RESOURCES_SUCCEEDED,resourceType:t,resources:n.map(xe),requestKey:r}},function(){return{type:$.a.READ_RESOURCES_FAILED,resourceType:t,requestKey:r}});case 10:case"end":return i.stop()}},je)}function Ce(){return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)([Object(Z.d)($.a.READ_RESOURCES_PENDING,Pe),Object(Z.d)(fe,Se)]);case 2:case"end":return e.stop()}},we)}var De=n(153),Re=n(154),Te=n.n(Re),Ie=n(155),Ae=n.n(Ie);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Le=["xxs","xs","sm","md","lg","xl"];function ze(e){return Object(De.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({browser:Object(m.createResponsiveStateReducer)(Te()(Ae()(Le,k.map(function(e){return parseInt(e,10)-1})))),api:ve},e))}var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(X.a)(),n=[t],r=[J.a.apply(void 0,n),Object(m.createResponsiveStoreEnhancer)({calculateInitialState:!1})],a=J.c,o=Object(J.d)(ze(),Object(V.fromJS)(e),a.apply(void 0,r));return o.runSaga=t.run,t.run(Ce),o.injectedReducers={},o}();if(window.__ID="00000000",window.location.search){var Fe=/bureauId=([^&]+)/g.exec(window.location.search);Fe&&Fe[1]&&(window.__ID=decodeURIComponent(Fe[1]))}var _e=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&Me.dispatch(Object(m.calculateResponsiveState)(window))}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),We=n(80),Ye=n.n(We),Ue=n(156),Ne=n.n(Ue),qe=function(e){return a.a.createElement(G,e)};qe.defaultProps={mx:"auto",px:["1em",null,"2em"],width:1},qe.displayName="Container";var Ge=qe;function He(){var e=Object(g.a)(["\n  ","\n"]);return He=function(){return e},e}var Je=Object(f.d)(G)(He(),W.k);Je.defaultProps={display:"flex",blacklist:Y},Je.displayName="Flex";var Ve=Je;function Xe(){var e=Object(g.a)(["\n  margin-top: 0;\n  margin-bottom: 0;\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Xe=function(){return e},e}var Ke=Object(f.d)(_.a)(Xe(),W.q,W.i,W.o,W.h,W.n,U("textTransform"));Ke.defaultProps={is:"p",fontSize:"1em",blacklist:Y},Ke.inline=function(e){return a.a.createElement(Ke,Object.assign({is:"span"},e))},Ke.bold=function(e){return a.a.createElement(Ke,Object.assign({fontWeight:"bold"},e))},Ke.thin=function(e){return a.a.createElement(Ke,Object.assign({fontWeight:"200"},e))},j()(1,7).forEach(function(e){var t="h".concat(e);Ke[t]=function(n){return a.a.createElement(Ke,Object.assign({is:t,fontSize:"".concat(1+.125*(6-e),"em")},n))}}),Ke.displayName="Text";var Qe=Ke,Ze=n(14),$e=n(66),et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"color";return Object(W.p)({prop:e,cssProperty:t,key:"colors"})};function tt(){var e=Object(g.a)(["\n  ",";\n"]);return tt=function(){return e},e}function nt(){var e=Object(g.a)(["\n  padding: 0;\n  border: none;\n  font-family: inherit;\n  line-height: 1;\n  text-decoration: none;\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  appearance: none;\n  transition: all ","ms;\n  cursor: pointer;\n  &:hover {\n    ","\n    outline: none;\n  }\n  ","\n  ","\n"]);return nt=function(){return e},e}function rt(){var e=Object(g.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return rt=function(){return e},e}var at=Object(f.c)(rt(),et("hoverColor"),et("hoverBg","backgroundColor"),et("hoverBgImg","backgroundImage"),et("hoverBorder","borderColor")),ot=Object(f.c)(nt(),W.q,W.l,W.n,W.a,Object(W.r)({scale:"gradients",prop:"gradient"}),W.o,W.h,W.e,W.f,W.g,Object($e.a)("duration",250),function(e){return!e.disabled&&at},function(e){return e.active&&!e.disabled&&at},function(e){return e.disabled&&"\n    cursor: not-allowed;\n    opacity: 0.5;\n  "}),ct=Object(f.d)(_.a)(tt(),ot),it=function(e){return a.a.createElement(G,Object.assign({is:"span"},e))},lt=function(e){var t=e.leftIcon,n=e.rightIcon,r=e.iconSpacing,o=e.children,c=e.verticalAlign,i=Object(Ze.a)(e,["leftIcon","rightIcon","iconSpacing","children","verticalAlign"]);return a.a.createElement(ct,i,t?a.a.createElement(G,{is:t,mr:r,verticalAlign:c}):null,a.a.createElement(it,{verticalAlign:c},o),n?a.a.createElement(G,{is:n,ml:r,verticalAlign:c}):null)};lt.defaultProps={blacklist:Y,is:"button",border:"1px solid",borderColor:"darkBlue",bg:"darkBlue",gradient:"darkBlue",color:"white",hoverColor:"darkBlue",hoverBg:"white",hoverBgImg:"none",hoverBorder:"darkBlue",px:"1.25em",py:"0.5em",fontWeight:"bold",iconSpacing:"0.25em",borderRadius:"1.25em",display:"inline-block",verticalAlign:"middle"},lt.displayName="Button",lt.lightBg=function(e){return a.a.createElement(lt,Object.assign({bg:"white",color:"darkBlue",gradient:"none",border:"1px solid",borderColor:"white",hoverColor:"white",hoverBgImg:L.gradients.darkBlue.backgroundImage,hoverBorder:"white"},e))},lt.border=function(e){return a.a.createElement(lt,Object.assign({bg:"white",color:"darkBlue",gradient:"none",borderColor:"darkBlue",hoverColor:"white",hoverBg:"none",hoverBgImg:L.gradients.darkBlue.backgroundImage},e))},lt.outline=function(e){return a.a.createElement(lt,Object.assign({gradient:"none",border:"1px solid",borderColor:"primary",bg:"transparent",color:"primary",hoverColor:"white"},e))},lt.transparent=function(e){return a.a.createElement(lt,Object.assign({gradient:"none",border:"1px solid transparent",bg:"transparent",color:"text",hoverBorder:"primary"},e))};var ut=lt,st=n(67),dt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={},n.handleNextYear=function(){var e=n.state.activeYear+1;n.setState({activeYear:e},function(){n.props.onChange(n.props.years[e])})},n.handleLastYear=function(){var e=n.state.activeYear-1;n.setState({activeYear:e},function(){n.props.onChange(n.props.years[e])})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.currentYear,e.years),n=e.darkBg,o=(e.onChange,Object(Ze.a)(e,["currentYear","years","darkBg","onChange"])),c=this.state.activeYear;return a.a.createElement(Ve,Object.assign({alignItems:"center"},o),Object(r.createElement)(n?ut.lightBg:ut,{px:"0.125em",py:"0.125em",borderRadius:"0.25em",disabled:!c,onClick:this.handleLastYear},a.a.createElement(st.b,{size:"1.5em"})),a.a.createElement(G,{px:"1.5em",py:"0.375em",border:"1px solid",mx:"0.5em",borderRadius:"0.5em"},t[c]),Object(r.createElement)(n?ut.lightBg:ut,{px:"0.125em",py:"0.125em",borderRadius:"0.25em",disabled:c===t.length-1,onClick:this.handleNextYear},a.a.createElement(st.c,{size:"1.5em"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.currentYear,r=e.years;return{activeYear:"undefined"===typeof n?r.length-1:r.findIndex(function(e){return e===n})}}}]),t}(r.PureComponent);dt.defaultProps={onChange:function(){}};var pt=dt,mt=n(90),ft=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={poses:n.props.options.map(function(){return{}})},n.poses=[],n.handleBound=function(e,t){n.poses[e]=t,n.poses.every(Boolean)&&n.poses.length===n.props.options.length&&n.setState({poses:n.poses})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.options,r=t.activeIndex,o=t.onToggle,c=t.color,i=t.bg,l=this.state.poses;return a.a.createElement(b.Consumer,null,function(t){var u=t.em;return a.a.createElement(G,{borderRadius:"1.5em",bg:i,px:"0.5em"},a.a.createElement(G,{position:"relative"},a.a.createElement(G,{position:"absolute",left:l[r].left-l[0].left-.65*u,top:"50%",bottom:"0",width:l[r].width+1.3*u,transition:"all 0.25s"},a.a.createElement(G,{py:"1.25em",bg:c,transform:"translateY(-50%)",borderRadius:"1.25em"})),a.a.createElement(G,{position:"relative"},n.map(function(t,n){return a.a.createElement(mt.a,{bounds:!0,onResize:function(t){var r=t.bounds;return e.handleBound(n,r)},key:n},function(e){var r=e.measureRef;return a.a.createElement(G.inline,{ref:r,px:"1.25em",py:"0.5em",color:"white",onClick:function(){return o(n)}},t)})}))))})}}]),t}(r.PureComponent);ft.defaultProps={color:"primary",bg:"rgba(255,255,255,0.2)",onToggle:function(){}};var ht=ft,bt=n(158),gt=n.n(bt);n(291);function yt(){var e=Object(g.a)(["\n  .Dropdown-control {\n    border: 1px solid;\n    border-radius: 0.5em;\n    text-align: center;\n    background-color: white;\n    color: black;\n    font-family: inherit;\n    padding: 0.25em;\n    font-size: 1em;\n    cursor: pointer;\n    transition: none;\n  }\n  &.is-open {\n    .Dropdown-control {\n      border-radius: 0.5em 0.5em 0em 0em;\n    }\n  }\n  .Dropdown-menu {\n    border: 1px solid;\n    transform: translateY(1px);\n    border-radius: 0 0 0.5em 0.5em;\n  }\n  .Dropdown-option {\n    color: inherit;\n    text-align: center;\n    padding: 0.5em 1em;\n    border-bottom: 1px solid gray;\n    &.is-selected {\n      background-color: ",";\n    }\n    &:hover {\n      background-color: ",";\n    }\n  }\n  .Dropdown-arrow {\n    border-color: black transparent transparent;\n    top: 0.8em;\n    right: 0.5em;\n  }\n"]);return yt=function(){return e},e}var vt=Object(f.d)(gt.a)(yt(),Object($e.a)("colors.dropdownBg"),Object($e.a)("colors.dropdownBg")),Ot=function(e){e.isMobile;var t=e.options,n=e.onChange,r=(e.onBlur,e.value),o=(e.name,e.placeholder),c=e.disabled,i=Object(Ze.a)(e,["isMobile","options","onChange","onBlur","value","name","placeholder","disabled"]);return a.a.createElement(G,i,a.a.createElement(vt,{onChange:n,options:[{label:"\u5168\u90e8",value:""}].concat(t.map(function(e){return{value:e,label:e}})),value:r,placeholder:o,disabled:c}))};Ot.defaultProps={placeholder:"\u8acb\u9078\u64c7",onChange:function(){}};var Et,jt=(Et=Ot,Object(p.c)(function(e){var t=e.get("browser");return{browser:t,isMobile:t.lessThan.md}})(Et)),wt=n(115),xt=n.n(wt),kt=function(e){var t=e.children,n=e.border,r=e.borderColor,o=e.bg,c=e.is,i=Object(Ze.a)(e,["children","border","borderColor","bg","is"]);return a.a.createElement(G,i,a.a.createElement(G,{position:"relative",pt:"100%"},a.a.createElement(G,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:1,borderRadius:"50%",border:n,borderColor:r,bg:o,is:c},a.a.createElement(G,{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",lineHeight:"0"},t))))};kt.displayName="Circle";var St=kt,Pt={overlay:{zIndex:L.zOrder[3],backgroundColor:"rgba(0,0,0,0.7)"},content:{width:"66%",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"1em",border:"none",padding:"0",backgroundColor:"rgba(255,255,255,0.9)",overflow:"unset"}};xt.a.setAppElement("#root");var Ct=function(e){var t=e.children,n=(e.border,e.borderRadius,e.customStyles),r=e.title,o=Object(Ze.a)(e,["children","border","borderRadius","customStyles","title"]);return a.a.createElement(xt.a,Object.assign({style:O()({},Pt,{content:n})},o),a.a.createElement(G,{py:"1.5em"},a.a.createElement(Ve,{justifyContent:"space-between",mx:"2em",pb:"1em",borderBottom:"1px solid",borderColor:"darkBlue",alignItems:"center"},a.a.createElement(Qe,{fontWeight:"bold",letterSpacing:"0.25em",fontSize:"1.25em"},r),a.a.createElement(St,{width:"2em",is:function(e){return a.a.createElement(ut,Object.assign({borderRadius:"50%",px:"0",py:"0"},e))},onClick:o.onRequestClose},a.a.createElement(st.a,{size:"2em"}))),a.a.createElement(G,{m:"2em",position:"relative"},t)))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Rt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={},n.openModal=function(){return n.setState({open:!0})},n.closeModal=function(){return n.setState({open:!1})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.is,n=e.label,o=e.title,c=e.children,i=Object(Ze.a)(e,["is","label","title","children"]),l=this.state.open;return a.a.createElement(r.Fragment,null,Object(r.createElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onClick:this.openModal},i),n),a.a.createElement(Ct,{isOpen:l,onRequestClose:this.closeModal,title:o},c))}}]),t}(r.PureComponent);Rt.defaultProps={is:ut};var Tt=Rt,It=n(159),At=n.n(It),Bt=function(e){var t=e.children,n=Object(Ze.a)(e,["children"]);return a.a.createElement(G,Object.assign({},n,{backgroundImage:"url('".concat(At.a,"')")}),t)};Bt.defaultProps={backgroundSize:"10px",backgroundRepeat:"repeat repeat",backgroundPosition:"center"};var Lt=Bt,zt=n(27),Mt=n.n(zt),Ft=n(20),_t=n.n(Ft),Wt=n(81),Yt=n.n(Wt),Ut=n(82),Nt=n.n(Ut),qt=n(83),Gt=n.n(qt),Ht=n(65),Jt=n.n(Ht),Vt=n(18),Xt=n.n(Vt),Kt=n(160),Qt=n.n(Kt),Zt=n(38),$t=n.n(Zt),en=n(112),tn=n.n(en),nn=n(161),rn=n.n(nn);function an(e){var t={dispatch:$t.a,subscribe:$t.a,getState:$t.a,replaceReducer:$t.a,injectedReducers:re.a};Xt()(rn()(e,t),"(src/utils...) injectors: Expected a valid redux store")}function on(e,t){return function(n,r){t||an(e),Xt()(tn()(n)&&!Qt()(n)&&$t()(r),"(src/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,n)&&e.injectedReducers[n]===r||(e.injectedReducers[n]=r,e.replaceReducer(ze(e.injectedReducers)))}}var cn=function(e){var t=e.key,n=e.reducer;return function(e){var r=function(r){function o(){var e,t,n;Object(i.a)(this,o);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(s.a)(o)).call.apply(e,[this].concat(a)))).injectors=(an(n=t.context.store),{injectReducer:on(n,!0)}),t}return Object(d.a)(o,r),Object(l.a)(o,[{key:"componentWillMount",value:function(){(0,this.injectors.injectReducer)(t,n)}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),o}(a.a.Component);return r.WrappedComponent=e,r.contextType=p.b,r.displayName="withReducer(".concat(e.displayName||e.name||"Component",")"),Jt()(r,e)}};function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var un=function(e,t){var n=_t()(t)||Yt()(t)?t:"",o=!n,c=_t()(n)?n:[n],m="_LAW.".concat(Gt()("".concat(e).concat(n).concat(t?JSON.stringify(t):"")));return function(n){if(!e)return function(){return null};if("undefined"!==typeof window&&window[m])return window[m];var f=function(p){function m(){var n,r;Object(i.a)(this,m);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return(r=Object(u.a)(this,(n=Object(s.a)(m)).call.apply(n,[this].concat(l)))).request=function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;r.props[e]?r.checkIsPending()||!n&&r.checkIsDone()||r.props.dispatch({type:$.a.READ_RESOURCES_PENDING,resourceType:e,resources:o?void 0:c,requestKey:o&&"list".concat(JSON.stringify(t)),requestParams:a}):setTimeout(r.request,100)},r.resync=function(){return r.request(!0)},r.updateParams=function(e){return r.request(!0,e)},r.checkStatus=function(t){return o?Mt()(r.props,[e,"requests","list","status"])===t:Mt()(r.props,[e,"meta",c,"readStatus"])===t},r.checkIsPending=function(){return r.checkStatus($.b.PENDING)},r.checkIsDone=function(){return r.checkStatus($.b.SUCCEEDED)||r.checkStatus($.b.FAILED)},r}return Object(d.a)(m,p),Object(l.a)(m,[{key:"componentDidMount",value:function(){setTimeout(this.request)}},{key:"render",value:function(){var t,o=Mt()(this.props,[e,"resources"]),c=a.a.createElement(Qe,{textAlign:"center",my:"2em"},"Loading...");Nt()(o)&&(c=Object(r.createElement)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props,(t={},Object(y.a)(t,e,o),Object(y.a)(t,"updateParams",this.updateParams),t))));return c}}]),m}(r.PureComponent),h=cn({key:e,reducer:Object($.c)(e)}),b=Object(J.c)(h,Object(p.c)(function(t){return Object(y.a)({},e,t.get(e))}))(f);return"undefined"!==typeof window&&(window[m]=b),b}};function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var pn=function(e){var t="_LAW.state.".concat(Gt()(e));return function(n){if(!e)return function(){return null};if("undefined"!==typeof window&&window[t])return window[t];var o=function(t){function o(){var t,n;Object(i.a)(this,o);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(u.a)(this,(t=Object(s.a)(o)).call.apply(t,[this].concat(a)))).state={},n.request=function(t){n.checkIsPending()||!t&&n.checkIsDone()||n.props.getData({key:e})},n.checkIsPending=function(){return n.props.status===de},n.checkIsDone=function(){return n.props.status===pe||n.props.status===me},n}return Object(d.a)(o,t),Object(l.a)(o,[{key:"componentDidMount",value:function(){setTimeout(this.request)}},{key:"render",value:function(){var t,o=this,c=this.props,i=c.data,l=(c.status,Object(Ze.a)(c,["data","status"])),u=a.a.createElement(Qe,{textAlign:"center",my:"2em"},"Loading...");Nt()(i)&&(u=Object(r.createElement)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l,(t={},Object(y.a)(t,e,i),Object(y.a)(t,"resync",function(){return o.request(!0)}),t))));return u}}]),o}(r.PureComponent);return Object(p.c)(function(t){return{data:t.getIn(["api",e,"data"]),status:t.getIn(["api",e,"status"])}},function(e){return Object(J.b)({getData:he},e)})(o)}},mn=function(e){var t=e.children;return a.a.createElement(G,{height:"100vh",minWidth:"800px"},t)},fn=n(32),hn=n(84),bn=n.n(hn),gn=n(339),yn=n(16),vn=n(21),On=n(91),En=n(86),jn=n(5),wn=n(85),xn=n(162),kn=n.n(xn),Sn=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={dimensions:{}},n.handleResize=function(e){var t=e.bounds;return n.setState({dimensions:t})},n.handleResize=kn()(n.handleResize,200),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.ratio,r=Object(Ze.a)(e,["children","ratio"]),o=this.state.dimensions,c=o.width,i=o.height;return a.a.createElement(mt.a,{onResize:this.handleResize,bounds:!0},function(e){var o=e.measureRef;return a.a.createElement(G,Object.assign({position:"relative",pt:"".concat(100*n,"%")},r,{ref:o}),c&&i&&a.a.createElement(G,{is:"svg",position:"absolute",top:"0",left:"0",width:c,height:i},t({width:c,height:i})))})}}]),t}(r.PureComponent);Sn.defaultProps={ratio:1/3};var Pn=Sn,Cn=n(35);var Dn=function(e){var t=e.x,n=e.y,r=e.children,o=e.fontSize,c=e.maxLength,i=e.lineHeight,l=e.lineBefore,u=e.fillFront,s=e.bg,d=e.style,p=e.verticalCenter,m=Object(Ze.a)(e,["x","y","children","fontSize","maxLength","lineHeight","lineBefore","fillFront","bg","style","verticalCenter"]);if("string"!==typeof r)return a.a.createElement("text",Object.assign({x:t,y:n,fontSize:o,style:d},m),r);var f=function(e,t,n){if(!t)return[e];var r=Array.from(e);n||r.reverse();var a=0,o=r.reduce(function(e,r){return e[a]=e[a]||"",e[a].length==t&&(e[a+=1]=""),n?e[a]+=r:e[a]=r+e[a],e},[]);if(n||o.reverse(),n){var c=o.length;1===o[c-1].length&&(o[c-1]=o[c-2].substr(o[c-2].length-1)+o[c-1],o[c-2]=o[c-2].substr(0,o[c-2].length-1))}else 1===o[0].length&&(o[0]+=o[1][0],o[1]=o[1].substr(1));return o}(r,c,u),h=f.length,b=f.map(function(e,t){return n+(p&&h>1?.5*o*(l?1:-1):0)+i*o*(l?t-h+1:t)}),g=f.map(function(e,n){return a.a.createElement("text",Object.assign({key:n,x:t,y:b[n],fontSize:o,style:d},m),e)});return s?function(){var e=c*o,n=Math.min.apply(Math,Object(Cn.a)(b)),r=Math.max.apply(Math,Object(Cn.a)(b));return a.a.createElement("g",null,a.a.createElement("rect",{width:e,height:r-n+1.75*o,x:t-e/2,y:n-1.25*o,fill:s,style:d}),g)}():a.a.createElement("g",null,g)};Dn.defaultProps={lineHeight:1.3,y:0,verticalCenter:!0};var Rn=Dn,Tn=n(23),In=Object(Tn.a)(","),An=function(e){var t=e.xEnd,n=e.y,r=e.em,o=e.main,c=e.sub,i=n-.8*r,l=n+1.5*r,u=t-(Mt()(o.unit,"length",-.25)+.25)*r,s=u-1.5*o.value.toString().length*r,d=t-(Mt()(c,["unit","length"],-.25)+.25)*r,p=d-.75*Mt()(c,"value","").toString().length*r,m=Math.min(p,s);return a.a.createElement("g",null,a.a.createElement("line",{x1:s-Mt()(o.label,"length")*r,x2:t,y1:n,y2:n,stroke:"black",strokeWidth:"2"}),a.a.createElement("g",null,o.unit&&a.a.createElement("text",{x:t,y:i,textAnchor:"end",fontSize:r},o.unit),a.a.createElement("text",{fill:L.colors.primary,x:u,y:i,textAnchor:"end",fontSize:2*r},In(o.value)),a.a.createElement("text",{x:m,y:i,textAnchor:"end",fontSize:r},o.label)),c&&a.a.createElement("g",null,a.a.createElement("text",{x:t,y:l,textAnchor:"end",fontSize:r},c.unit),a.a.createElement("text",{x:d-.25*r,y:l,textAnchor:"end",fontSize:r,color:L.colors.gray},In(c.value)),a.a.createElement("text",{x:m,y:l,textAnchor:"end",fontSize:r},c.label)))};function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Ln=function(e){return a.a.createElement(r.Fragment,null,Math.round(100*e),a.a.createElement("tspan",{fontSize:"0.7em"},"%"))},zn="undefined"!==typeof window&&"00000000"===window.__ID,Mn=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={},n.wrapper=Object(r.createRef)(),n.handleTooltip=function(e){var t=e.event,r=e.xScale,a=e.data,o=Object(En.a)(t).x,c=a[Math.round(r.invert(o))];c?n.setState({activeId:c.id}):n.setState({activeId:null})},n.handleClick=function(){var e=n.state.activeId,t=n.props,r=t.lockId,a=t.onLock;r?n.setState({activeId:null},function(){return a(null)}):a(e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,c=t.sortBy,i=(t.sortOrder,t.onLock,t.lockId),l=Object(Ze.a)(t,["data","sortBy","sortOrder","onLock","lockId"]),u=this.state,s=u.activeId,d=u.namedData;if(!n||!n.length)return null;var p=bn()(n,c);return a.a.createElement(b.Consumer,null,function(t){var c=t.em;return a.a.createElement(Pn,l,function(t){var l=t.width,u=t.height,m=2*c,f=.22*u,h=.075*l,b=h+f,g=l-f-.18*l,v=m+2*f+3.5*c,O=v+3*c,E=O+2.5*c,j=Object(vn.b)({domain:[0,n.length-1],range:[b,g]}),w=Object(vn.d)({domain:[0,Object(gn.a)(n,function(e){return e.issued})],range:[0,f],exponent:.5});return a.a.createElement(r.Fragment,null,a.a.createElement(On.a,{from:L.colors.darkBlue,to:L.colors.darkerBlue,vertical:!1,id:"dark"}),a.a.createElement(On.a,{from:L.colors.orange6,to:L.colors.orange2,vertical:!1,id:"rate"}),a.a.createElement(On.b,{from:L.colors.orange4,to:L.colors.orange4,toOpacity:0,id:"radial-trans"}),a.a.createElement("g",null,a.a.createElement("rect",{width:h,height:u-m/2,x:0,y:m/2,opacity:.15,fill:"url('#dark')",rx:c}),[v,O-2*c/3,E-2*c/3].map(function(e,t){return a.a.createElement("line",{key:t,x1:c,x2:h-c,y1:e-2*c/3,y2:e-2*c/3,stroke:L.colors.text,strokeWidth:"1",strokeLinecap:"round"})}),[{label:"\u5df2\u958b\u6848\u4ef6\u91cf",y:m+f-c/2},{label:"\u5c40\u8655",y:v+c},{label:"\u6536\u7e73\u7387",y:O+c/3},{label:"\u57f7\u884c\u7387",y:E+c/3}].map(function(e,t){var n=e.label,r=e.y;return a.a.createElement(Rn,{key:t,x:h/2,y:r,textAnchor:"middle",fontSize:1.25*c,fontWeight:"bold",maxLength:3,letterSpacing:"2"},n)})),a.a.createElement(fn.a,{start:{opacity:1},update:{opacity:[s||i?.1:1],timing:{duration:250}}},function(e){return a.a.createElement("line",Object.assign({x1:b,y1:m+f,x2:l,y2:m+f,stroke:L.colors.lightGray,strokeWidth:"2",strokeLinecap:"round"},e))}),a.a.createElement("rect",{width:g-b+f,height:2*c,fill:"url('#rate')",x:b-f/2,y:O-c,rx:c}),a.a.createElement(yn.b,{x:0,y:0,width:l,height:u,fill:"transparent",data:n,onTouchStart:function(t){return e.handleTooltip({event:t,xScale:j,data:p})},onTouchMove:function(t){return e.handleTooltip({event:t,xScale:j,data:p})},onMouseMove:function(t){return e.handleTooltip({event:t,xScale:j,data:p})},onMouseLeave:function(){return e.setState({activeId:null})},onClick:e.handleClick}),a.a.createElement("g",{ref:e.wrapper},a.a.createElement(fn.b,{data:p.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{width:l,height:u})}),keyAccessor:function(e){return e.label},start:function(e,t){return{cx:j(t),r:0,opacity:.5,otherOpacity:1,centerR:0}},enter:function(e){return{r:[w(e.issued)],timing:{duration:500}}},update:function(e,t){var n,r=!0;return i?(r=i===e.id,n=i===e.id):s&&(r=s===e.id),[{cx:[j(t)],r:[w(e.issued)],timing:{duration:500}},{opacity:[r?.5:.1],otherOpacity:[r?1:.1],centerR:[n?c:0],timing:{duration:250}}]},leave:function(){return{opacity:[0],timing:{duration:500}}}},function(t){return a.a.createElement("g",null,t.map(function(e){var t=e.key,n=e.data,r=e.state,o=r.cx,i=r.r,l=r.opacity,u=r.otherOpacity;return a.a.createElement("g",{key:t},a.a.createElement(yn.c,{cx:o,cy:m+f,r:i,fill:L.colors.orange2,opacity:l,style:{pointerEvents:"none"}}),a.a.createElement("text",{fill:L.colors.darkGray,x:o,y:m+f-i-.5*c,textAnchor:"middle",fontSize:c,opacity:u,style:{pointerEvents:"none"}},n.issued),a.a.createElement("line",{x1:o,x2:o,y1:m+f,y2:v+c,stroke:L.colors.lightGray,opacity:u,style:{pointerEvents:"none"}}),a.a.createElement(Rn,{x:o,y:v+c,textAnchor:"middle",fontSize:c,maxLength:3,lineBefore:!0,em:c,bg:"white",opacity:u,style:{pointerEvents:"none"},verticalCenter:!1},n.label),a.a.createElement("text",{x:o,y:O+c/3,textAnchor:"middle",fontWeight:"bold",fontSize:c,fill:"white",opacity:u,style:{pointerEvents:"none"}},Ln(n.receiveRate)),a.a.createElement("text",{x:o,y:E+c/3,textAnchor:"middle",fontWeight:"bold",fontSize:c,opacity:u,style:{pointerEvents:"none"}},Ln(n.receiveDollarRate)))}),t.map(function(t){var n=t.key,r=t.data,i=t.state,l=i.cx,u=i.otherOpacity,s=i.centerR;return a.a.createElement("g",{key:n},a.a.createElement(yn.c,{cx:l,cy:f+m,r:f/25,fill:L.colors.darkGray,opacity:u,style:{pointerEvents:"none"}}),a.a.createElement(wn.HoverSensor,null,function(t){var n=t.isHover,i=m+f,u=2.5*c,d=5*c;return a.a.createElement("g",null,a.a.createElement(yn.c,{cx:l,cy:i,r:s,fill:"url('#radial-trans')",style:zn?{cursor:"pointer"}:{},onClick:function(){zn&&window.open("?bureauId=".concat(r.id))}}),zn&&n&&Object(o.createPortal)(a.a.createElement(jn.a,{top:m+f,left:l+2*c},a.a.createElement("polygon",{points:[[-.75*c,0],[.1*c,-.5*c],[.1*c,.5*c]].map(function(e){return e.join()}).join(" "),fill:L.colors.orange3}),a.a.createElement("rect",{x:0,y:-u/2,width:d,height:u,fill:L.colors.orange3,rx:.75*c}),a.a.createElement("text",{fontSize:c,fill:"white",x:d/2,y:.3*c,textAnchor:"middle"},"\u524d\u5f80\u5c40\u8655")),e.wrapper.current))}))}))})),a.a.createElement(An,{xEnd:l,y:m+2*c,em:c,main:{value:i?d[i].issued:n.reduce(function(e,t){return e+t.issued},0),label:"\u5df2\u958b\u6848\u91cf",unit:"\u4ef6"},sub:{value:i?d[i].issuedDollar:n.reduce(function(e,t){return e+t.issuedDollar},0),label:"\u6848\u4ef6\u91d1\u984d",unit:"\u5143"}}),a.a.createElement(An,{xEnd:l,y:m+9.5*c,em:c,main:{value:i?d[i].received:n.reduce(function(e,t){return e+t.received},0),label:"\u6536\u7e73\u6848\u4ef6",unit:"\u4ef6"},sub:{value:i?d[i].receivedDollar:n.reduce(function(e,t){return e+t.receivedDollar},0),label:"\u6536\u7e73\u91d1\u984d",unit:"\u5143"}}),a.a.createElement(An,{xEnd:l,y:m+18*c,em:c,main:{value:i?d[i].canceled:n.reduce(function(e,t){return e+t.canceled},0),label:"\u64a4\u92b7\u6848\u4ef6\u91cf",unit:"\u4ef6"}}))})})}}],[{key:"getDerivedStateFromProps",value:function(e){return{namedData:e.data.reduce(function(e,t){return e[t.id]=t,e},{})}}}]),t}(r.PureComponent),Fn=n(165),_n=n(87),Wn=n.n(_n),Yn=n(88),Un=n.n(Yn),Nn=n(92),qn=n.n(Nn),Gn=n(93),Hn=n(163),Jn=n.n(Hn);function Vn(){requestAnimationFrame(Vn),qn.a.update()}var Xn=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).pathRef=Object(r.createRef)(),n.updatePath=function(e){n.parsed=new Gn.a(e).toAbs().commands,n.tweens=n.parsed.map(function(e,t){var r=n.prevParsed[t],a=Jn()(e,Yt.a),o=new qn.a.Tween(r||Un()(a,function(e,t){return"type"===t?e:0})).to(a,n.props.duration).easing(qn.a.Easing.Quadratic.InOut).onUpdate(n.handleUpdate(t));return o.start(),o})},n.handleUpdate=function(e){return function(t){n.prevParsed[e]=O()(n.prevParsed[e]||{},t),n.tick[e]=!0,n.tick.length===n.parsed.length&&n.tick.every(Boolean)&&n.doUpdatePath()}},n.doUpdatePath=function(){n.pathRef.current&&n.pathRef.current.setAttribute("d",Object(Gn.b)(n.prevParsed)),n.tick.fill(null)};var a=e.d;return n.prevParsed=new Gn.a(a).toAbs().commands,n.tick=[],Vn(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.d;return t!==this.props.d&&this.updatePath(t),!1}},{key:"componentWillUnmount",value:function(){this.tweens&&this.tweens.forEach(function(e){return e.stop()})}},{key:"render",value:function(){var e=this.props,t=(e.duration,Object(Ze.a)(e,["duration"]));return a.a.createElement("path",Object.assign({ref:this.pathRef},t))}}]),t}(r.Component);Xn.defaultProps={duration:500};var Kn=Xn,Qn=Object(Tn.a)(".0%"),Zn=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={},n.outerShapes=[],n.handleOuterShape=function(e,t){n.outerShapes[e]=t},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,o=t.legends,c=t.onLegendClick,i=t.activeLegend,l=t.valueGetter,u=t.outerCircle,s=t.showLegend,d=t.showLabel,p=t.showPercentage,m=Object(Ze.a)(t,["data","legends","onLegendClick","activeLegend","valueGetter","outerCircle","showLegend","showLabel","showPercentage"]),f=this.state,h=f.totalVaue,b=f.dataLength,g=f.labelLength,y=f.getColorByName,v=f.getIndexByName,O=this.context.em;return a.a.createElement(Pn,m,function(t){var m=t.width,f=t.height,E=.45*f-(d?8*O:2*O),w=f-4*O;return a.a.createElement(r.Fragment,null,s&&a.a.createElement("g",null,o.map(function(e,t){return a.a.createElement(jn.a,{key:t,left:O,top:w-(b-1-t)*O*1.75,onClick:function(){return c(e.label===i?null:e.label)},opacity:i&&e.label!==i?.3:1,style:{cursor:"pointer"}},a.a.createElement("circle",{cx:O/2,cy:.3*-O,r:O/2,fill:e.color}),a.a.createElement("text",{x:1.75*O,fill:"white",fontSize:O},e.label))})),a.a.createElement(jn.a,{top:f/2,left:m/2+(s?5*O:0)},u&&a.a.createElement(r.Fragment,null,a.a.createElement(yn.f,{data:n,pieValue:l,outerRadius:1.05*E,innerRadius:.4*E,padAngle:0,pieSort:function(e,t){return v[e.name]-v[t.name]}},function(t){return t.arcs.map(function(n,r){var o=t.path(n);return a.a.createElement("g",{key:"outer-".concat(n.data.name,"-").concat(r)},a.a.createElement("path",{d:o,fill:"transparent",ref:function(){return e.handleOuterShape(r,o)}}))})}),a.a.createElement(yn.f,{data:n,pieValue:l,outerRadius:1.1*E,innerRadius:.3*E,padAngle:0},function(e){return e.arcs.map(function(t,n){return a.a.createElement("g",{key:"bg-".concat(t.data.name,"-").concat(n)},a.a.createElement("path",{d:e.path(t),fill:"white",opacity:"0.2"}))})})),a.a.createElement(yn.f,{data:n,pieValue:l,outerRadius:E,innerRadius:.4*E,padAngle:0,pieSort:function(e,t){return v[e.name]-v[t.name]}},function(t){var n,o;if(d){var u=Wn()(t.arcs.map(function(e,n){return r=t.path.centroid(e),a=n,{side:Math.sign(r[0]),distanceX:Math.abs(r[0]),distanceY:r[1],index:a};var r,a}),"side"),s=te()(u,function(e,t,n){var r=e[n]?t.concat(e[n]):t;if(t.length>g){var a=t.sort(function(e,t){return t.distanceX-e.distanceX});r=a.slice(0,g);var o=-1*n;e[o]=(e[o]||[]).concat(a.slice(g))}return e[n]=r,e},{});o=Un()(s,function(e){return Object(vn.a)({range:[-E,E],domain:j()(0,e.length)})}),n=te()(s,function(e,t){return t.sort(function(e,t){return e.distanceY-t.distanceY}).forEach(function(t,n){e[t.index]={side:t.side,index:n}}),e},[])}return t.arcs.map(function(u,s){var m=t.path.centroid(u),f=Object(Fn.a)(m,2),b=f[0],g=f[1],v=u.startAngle,j=u.endAngle-v>=.1,w=l(u.data);return a.a.createElement(r.Fragment,{key:"inner-".concat(u.data.name,"-").concat(s)},a.a.createElement(wn.HoverSensor,null,function(n){var r=n.isHover;return a.a.createElement("g",null,a.a.createElement(Kn,{d:(!i&&r||i===u.data.name)&&e.outerShapes[s]?e.outerShapes[s]:t.path(u),fill:y[u.data.name],opacity:i&&u.data.name!==i?.3:1,onClick:function(){return c(u.data.name===i?null:u.data.name)},duration:200}),j&&a.a.createElement("text",{fill:"white",x:b,y:g,dy:".33em",fontSize:O,textAnchor:"middle"},p?Qn(w/h):w))}),d&&function(){var e=n[s],t=o[e.side],c=e.side,i=(E+8*O)*c,d=t(e.index)+t.bandwidth()/2-O/2,p=b-i+2*O*c,m=g-d,f=p+Math.abs(m)*c;return a.a.createElement(r.Fragment,null,a.a.createElement(jn.a,{left:i,top:d},a.a.createElement("line",{x1:0,x2:f,y1:0,y2:0,stroke:"black"}),a.a.createElement("line",{x1:p,y1:m,x2:f,y2:0,stroke:"black"}),a.a.createElement("text",{y:1.5*O,textAnchor:c>0?"end":"start",fontSize:O,fontWeight:"bold"},u.data.name),a.a.createElement("text",{y:-.75*O,textAnchor:c>0?"end":"start",fontSize:1.5*O,fill:L.colors.primary,fontWeight:"bold"},l(u.data))))}())})})))})}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.data,n=e.legends,r=e.valueGetter;return{totalVaue:t.reduce(function(e,t){return e+r(t)},0),dataLength:t.length,labelLength:Math.floor(t.length/2)+1,getColorByName:n.reduce(function(e,t){return e[t.label]=t.color,e},{}),getIndexByName:n.reduce(function(e,t,n){return e[t.label]=n,e},{})}}}]),t}(r.PureComponent);Zn.contextType=b,Zn.defaultProps={onLegendClick:function(){}};var $n=Zn,er=Object(Tn.a)(".0%"),tr=function(e){var t=e.data,n=e.legends,o=e.onLegendClick,c=e.activeLegend,i=Object(Ze.a)(e,["data","legends","onLegendClick","activeLegend"]),l=t.reduce(function(e,t){return e[t.name]=t.received/t.issued,e},{}),u=Math.max.apply(Math,Object(Cn.a)(n.map(function(e){return e.label.length})));return a.a.createElement(b.Consumer,null,function(e){var t=e.em;return a.a.createElement(Pn,i,function(e){var i=e.width,s=6*t,d=Object(vn.b)({range:[0,i-3*t-u*t*1.25],domain:[0,1]});return a.a.createElement(jn.a,{top:s},n.map(function(e,n){var i=e.label,s=e.color,p=function(){return o(i===c?null:i)};return a.a.createElement(jn.a,{top:n*t*2.5,opacity:c&&c!==i?.3:1,key:i+n},a.a.createElement("text",{fill:"white",fontSize:t,onClick:p,style:{cursor:"pointer"}},i),a.a.createElement("rect",{x:u*t*1.25,y:-1.25*t,width:d(1),height:1.5*t,fill:"white",opacity:"0.15"}),a.a.createElement(fn.a,{start:{width:0},enter:{width:[d(l[i])],timing:{duration:500}},update:{width:[d(l[i])],timing:{duration:500}}},function(e){return a.a.createElement(r.Fragment,null,a.a.createElement("rect",Object.assign({x:u*t*1.25,y:-1.25*t,height:1.5*t},e,{fill:s,onClick:p})),a.a.createElement("text",{x:u*t*1.25+e.width+.5*t,y:"-.3em",fill:"white",fontSize:.8*t},er(l[i])))}))}))})})};function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var rr=function(e,t){return function(n){var a="data/bureaus";return"undefined"!==typeof window&&"00000000"!==window.__ID&&(a="".concat(a,"/").concat(window.__ID)),t&&(a="".concat(a,"/").concat(t)),a="".concat(a,"/laws"),un(a,e)(function(e){return Object(r.createElement)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{data:e[a]}))})}},ar=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.year,r=t.updateParams,a=t.top;e.year!==n&&r({year:n,top:a})}},{key:"render",value:function(){var e=this.props,t=e.hasLine,n=e.color,o=e.ratio,c=e.top,i=e.data,l=bn()(i,"count").slice(0,c);return a.a.createElement(b.Consumer,null,function(e){var c=e.em;return a.a.createElement(Pn,{ratio:o},function(e){var o=e.width,i=2.5*c,u=15*c*1.1,s=Object(vn.b)({range:[0,o-3*c-u],domain:[0,Math.max.apply(Math,Object(Cn.a)(l.map(function(e){return e.count})))]});return a.a.createElement(r.Fragment,null,a.a.createElement(jn.a,{top:i},Array.from(l).reverse().map(function(e,t){return a.a.createElement(fn.a,{start:{width:0},enter:{width:[s(e.count)],timing:{duration:200}},update:{width:[s(e.count)],timing:{duration:200}},key:e.id},function(r){return a.a.createElement(jn.a,{top:t*c*2.75},a.a.createElement(Rn,{fill:n,fontSize:c,maxLength:15,fillFront:!0,textAnchor:"end",x:u-c,y:.5*c},e.name),a.a.createElement("rect",{fill:L.colors.primary,x:u,y:"-0.5em",width:r.width,height:1.25*c}),a.a.createElement("text",{fill:n,x:u+r.width+.5*c,y:"0.5em"},e.count))})})),t&&a.a.createElement("line",{x1:u,x2:u,y1:i/2,y2:i/2+l.length*c*2.75,stroke:n,strokeWidth:"1.5"}))})})}}]),t}(r.PureComponent),or=function(e){return Object(r.createElement)(rr({top:e.top,year:e.year},e.lockId)(ar),e)},cr=n(55),ir=n(89);function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ur=function(e){return e.month},sr=function(e){return e.issued},dr=function(e){var t=e.data,n=Object(Ze.a)(e,["data"]),o=Ye()(t,function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({month:t},e,{receivedRate:e.received/e.issued})});return a.a.createElement(b.Consumer,null,function(e){var t=e.em;return a.a.createElement(Pn,n,function(e){var n=e.width,c=e.height,i=2*t,l=c-2*t-i,u=3*t,s=n-13*t,d=Object(vn.a)({range:[0,s-u],domain:j()(1,13),paddingInner:.3,paddingOuter:.3}),p=Object(vn.b)({range:[l,0],domain:[0,1.3]}),m=Object(vn.b)({range:[l,0],domain:[0,100*Math.ceil(Math.max.apply(Math,Object(Cn.a)(o.map(sr)))/100)]}),f=d.bandwidth();return a.a.createElement(jn.a,{top:i},a.a.createElement(jn.a,{left:u},a.a.createElement(ir.a,{top:0,left:0,xScale:d,yScale:p,stroke:"white",width:s-u,height:l,numTicksRows:3,numTicksColumns:0,columnLineStyle:{strokeWidth:0}}),a.a.createElement(cr.b,{top:0,left:0,scale:p,numTicks:3,stroke:"white",strokeWidth:1.5,tickStroke:"none",tickLabelProps:function(){return{fill:"white",textAnchor:"end",fontSize:.8*t,dx:"-0.25em",dy:"0.25em"}},tickFormat:function(e){return Math.round(100*e)}}),a.a.createElement(cr.a,{top:l,left:0,scale:d,numTicks:12,stroke:"white",strokeWidth:1.5,tickStroke:"none",tickFormat:function(e){return"".concat(e,"\u6708")},tickLabelProps:function(){return{fill:"white",fontSize:.8*t,textAnchor:"middle"}}}),a.a.createElement(jn.a,{left:u},a.a.createElement(yn.e,{x:function(e){return d(ur(e))-f/2},y:function(e){return m(sr(e))}},function(e){var t=e.path;return a.a.createElement(Kn,{d:t(o),stroke:L.colors.lightOrange,strokeWidth:"1.5",fill:"transparent",duration:500})}),a.a.createElement(fn.b,{data:o,keyAccessor:ur,start:function(e){return{xPos:d(ur(e)),barHeight:0,dotY:l}},enter:function(e){return{barHeight:[l-p(e.receivedRate)],dotY:[m(sr(e))],timing:{duration:500}}},update:function(e){return{xPos:[d(ur(e))],barHeight:[l-p(e.receivedRate)],dotY:[m(sr(e))],timing:{duration:500}}}},function(e){return a.a.createElement(r.Fragment,null,e.map(function(e){var n=e.key,o=e.data,c=e.state,i=c.xPos,u=c.barHeight,s=c.dotY,d=l-u,p=i-f/2;return a.a.createElement(r.Fragment,{key:n},a.a.createElement(yn.b,{x:i-f,y:d,width:f,height:u,fill:L.colors.lightOrange,opacity:.3}),a.a.createElement("circle",{cx:p,cy:s,r:t/3,fill:L.colors.spectrum[3]}),a.a.createElement("text",{x:p,y:s-t,textAnchor:"middle",fontSize:t,fill:L.colors.lightOrange},sr(o)))}))}))),a.a.createElement(jn.a,{top:l/2-t,left:s+5*t},a.a.createElement(jn.a,null,a.a.createElement("text",null,"\u6848\u4ef6\u91cf"),a.a.createElement("line",{x1:4*t,y1:-.5*t,x2:7*t,y2:-.5*t,stroke:L.colors.lightOrange,strokeWidth:"1.5"})),a.a.createElement(jn.a,{top:2.5*t},a.a.createElement("text",null,"\u6536\u7e73\u7387"),a.a.createElement("rect",{x:4*t,y:-1*t,width:3*t,height:t,fill:L.colors.lightOrange,opacity:.3}))))})})},pr=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.year,a=n.updateParams;e.year!==r&&a({year:r})}},{key:"render",value:function(){var e=this.props.year,t=this.props["data/avgTransferDays"];return a.a.createElement(Qe,null,"\u7e73\u6b3e\u5165\u5e02\u5eab\u5e73\u5747\u65e5\u6578\uff1a",Mt()(t,[e,"days"])," \u5929")}}]),t}(r.PureComponent),mr=function(e){return Object(r.createElement)(un("data/avgTransferDays",{year:e.year})(pr),e)},fr=n(164),hr=n.n(fr),br=n(169);function gr(){var e=Object(g.a)(['\n  &::after {\n    content: "";\n    display: block;\n    position: absolute;\n    left: 50%;\n    top: 100%;\n    transform: translateX(-50%);\n    width: 0;\n    height: 0;\n    border-left: 0.5em solid transparent;\n    border-right: 0.5em solid transparent;\n\n    border-top: 0.5em solid ',";\n  }\n"]);return gr=function(){return e},e}var yr=Object(f.d)(G)(gr(),L.colors.darkerBlue),vr=function(e){return e.index},Or=function(e){return e.issued},Er=function(e){return e.canceled},jr=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).wrapper=Object(r.createRef)(),n.handleTooltip=function(e){var t=e.event,r=e.data,a=e.xScale,o=e.yScale,c=e.xStart,i=n.props.showTooltip,l=Object(En.a)(t).x,u=r[Math.round((l-c)/a.step())];i({tooltipData:Object.assign({canceledTop:o(Er(u))},u),tooltipLeft:a(vr(u))+c,tooltipTop:o(Or(u))})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,c=t.xTickFormat,i=(t.showTooltop,t.hideTooltip),l=t.tooltipData,u=t.tooltipTop,s=t.tooltipLeft,d=(t.events,Object(Ze.a)(t,["data","xTickFormat","showTooltop","hideTooltip","tooltipData","tooltipTop","tooltipLeft","events"]));return a.a.createElement("div",{ref:this.wrapper},a.a.createElement(b.Consumer,null,function(t){var p=t.em;return a.a.createElement(r.Fragment,null,a.a.createElement(Pn,d,function(t){var d=t.width,m=t.height,f=6*p,h=m-2*p-f,b=3*p,g=d-2*p,y=Object(vn.c)({range:[0,g-b],domain:j()(0,n.length)}),v=Math.max.apply(Math,Object(Cn.a)(n.map(Or))),O=function(e){if(e<10)return 0;for(var t=0;e/Math.pow(10,t)>10;)t+=1;return t}(v),E=Object(vn.b)({range:[h,0],domain:[0,Math.ceil(v/Math.pow(10,O))*Math.pow(10,O)]});return a.a.createElement(jn.a,null,a.a.createElement(jn.a,{top:f,left:b},a.a.createElement(yn.a,{x:function(e){return y(vr(e))},y:function(e){return E(Or(e))},yScale:E},function(e){var t=e.path;return a.a.createElement(Kn,{d:t(n),stroke:L.colors.lightOrange,fill:L.colors.lightOrange,opacity:.7,duration:500})}),a.a.createElement(yn.a,{x:function(e){return y(vr(e))},y:function(e){return E(Er(e))},yScale:E},function(e){var t=e.path;return a.a.createElement(Kn,{d:t(n),stroke:L.colors.orange,fill:L.colors.orange,duration:500})}),a.a.createElement(ir.a,{top:0,left:0,xScale:y,yScale:E,stroke:L.colors.gray,width:g-b,height:h,numTicksRows:3,numTicksColumns:0,columnLineStyle:{strokeWidth:0}}),a.a.createElement(cr.b,{top:0,left:0,scale:E,numTicks:3,stroke:"black",strokeWidth:1.5,tickStroke:"none",tickLabelProps:function(){return{fill:"black",textAnchor:"end",fontSize:.8*p,dx:"-0.25em",dy:"0.25em"}}}),a.a.createElement(cr.a,{top:h,left:0,scale:y,numTicks:12,stroke:"black",strokeWidth:1.5,tickStroke:"none",tickFormat:c,tickLabelProps:function(){return{fill:"black",fontSize:.8*p,textAnchor:"middle"}}}),l&&a.a.createElement(yn.d,{from:{x:s-b,y:u},to:{x:s-b,y:h},stroke:"white",strokeWidth:2,style:{pointerEvents:"none"}}),a.a.createElement(fn.b,{data:n,keyAccessor:vr,start:function(e){return{xPos:y(vr(e)),dotY:E(Or(e)),dotCanceledY:E(Er(e))}},enter:function(e){return{dotY:[E(Or(e))],timing:{duration:500}}},update:function(e){return{xPos:[y(vr(e))],dotY:[E(Or(e))],dotCanceledY:[E(Er(e))],timing:{duration:500}}}},function(e){return a.a.createElement(r.Fragment,null,e.map(function(e){var t=e.key,n=(e.data,e.state),o=n.xPos,c=n.dotY,i=n.dotCanceledY;return a.a.createElement(r.Fragment,{key:t},a.a.createElement("circle",{cx:o,cy:c,r:p/4,fill:L.colors.spectrum[3]}),a.a.createElement("circle",{cx:o,cy:i,r:p/4,fill:L.colors.spectrum[3]}))}))})),a.a.createElement(jn.a,{top:1.75*p,left:g-16*p},a.a.createElement(jn.a,null,a.a.createElement("text",null,"\u6848\u4ef6\u91cf"),a.a.createElement("rect",{x:4*p,y:-1*p,width:3*p,height:p,fill:L.colors.lightOrange,opacity:.7})),a.a.createElement(jn.a,{left:8*p},a.a.createElement("text",null,"\u64a4\u92b7\u4ef6\u6578"),a.a.createElement("rect",{x:5.5*p,y:-1*p,width:3*p,height:p,fill:L.colors.orange}))),a.a.createElement(yn.b,{x:0,y:0,width:d,height:m,fill:"transparent",data:n,onTouchStart:function(t){return e.handleTooltip({event:t,xScale:y,xStart:b,yScale:E,data:n})},onTouchMove:function(t){return e.handleTooltip({event:t,xScale:y,xStart:b,yScale:E,data:n})},onMouseMove:function(t){return e.handleTooltip({event:t,xScale:y,xStart:b,yScale:E,data:n})},onMouseLeave:function(){return i()}}),l&&a.a.createElement("g",null,a.a.createElement("circle",{cx:s,cy:u+f,r:p/2,fill:L.colors.darkBlue,style:{pointerEvents:"none"}}),a.a.createElement("circle",{cx:s,cy:l.canceledTop+f,r:p/2,fill:L.colors.darkBlue,style:{pointerEvents:"none"}})),l&&Object(o.createPortal)(a.a.createElement(yr,{position:"absolute",top:u-.5*p,left:s,transform:"translateX(-50%)",p:"1em",bg:"black",color:"white",whiteSpace:"nowrap",gradient:"darkBlue",borderRadius:"0.5em",zIndex:10,fontSize:"0.8em"},a.a.createElement(Qe,{mb:"0.25em"},"\u6848\u4ef6\u91cf ",Or(l)),a.a.createElement(Qe,null,"\u64a4\u92b7\u6578 ",Er(l))),e.wrapper.current))}))}))}}]),t}(r.PureComponent),wr=Object(br.a)(jr),xr=function(e){return e.index},kr=function(e){return e.receivedRate},Sr=Object(Tn.a)(".0%"),Pr=function(e){var t=e.data,n=e.xTickFormat,o=Object(Ze.a)(e,["data","xTickFormat"]);return a.a.createElement(b.Consumer,null,function(e){var c=e.em;return a.a.createElement(Pn,o,function(e){var o=e.width,i=e.height,l=6*c,u=i-2*c-l,s=3*c,d=o-c,p=Object(vn.a)({range:[0,d-s],domain:j()(0,t.length),paddingInner:.2}),m=Object(vn.b)({range:[0,u],domain:[0,1]});return a.a.createElement(jn.a,null,a.a.createElement(jn.a,{top:l,left:s},a.a.createElement(fn.b,{data:t,keyAccessor:xr,start:function(e){return{xPos:p(xr(e)),y:0}},enter:function(e){return{y:[m(kr(e))],timing:{duration:500}}},update:function(e){return{xPos:[p(xr(e))],y:[m(kr(e))],timing:{duration:500}}}},function(e){return a.a.createElement(r.Fragment,null,e.map(function(e){var t=e.key,r=e.data,o=e.state,i=o.xPos,l=o.y,s=p.bandwidth();return a.a.createElement("g",{key:t},a.a.createElement("rect",{fill:"#e2e2e3",x:i,y:0,width:s,height:u}),a.a.createElement("rect",{fill:L.colors.lightOrange,x:i,y:u-l,width:s,height:l}),a.a.createElement("text",{fontSize:1.25*c,x:i+s/2,y:u-l-c,textAnchor:"middle"},Sr(kr(r))),a.a.createElement("text",{fontSize:.8*c,x:i+s/2,y:u+1.5*c,textAnchor:"middle"},n(xr(r))))}))})))})})};function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Rr=["canceled","canceledDollar","issued","issuedDollar","received","receivedDollar"],Tr=function(e,t,n){return e.reduce(function(e,r){return n&&n!==r.id||r.monthData.forEach(function(n){e[n.month]=e[n.month]||{month:n.month},Rr.forEach(function(r){e[n.month][r]=e[n.month][r]||0,e[n.month][r]+=t?n.types[t].data[r]:n.data[r]},{})}),e},{})},Ir=function(e,t){var n=te()(e,function(e,t){t.month;var n=Object(Ze.a)(t,["month"]);return Object.keys(n).forEach(function(t){e[t]=e[t]||0,e[t]+=n[t]}),e},t);return n.receivedRate=n.received/n.issued,n},Ar=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={chartType:0,timeType:0},n.handleToggle=function(e){return function(t){return n.setState(Object(y.a)({},e,t))}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.data,o=t.chartType,c=t.timeType,i=this.props.year,l=te()(n,function(t,n,r){var a=Tr(n.data);return c?(a=Wn()(a,function(e){return Math.floor((e.month-1)/3)}),hr()(a,function(n,a){t.push(Ir(n,{year:r,quarter:+a+1,index:4*(r-e.props.year+2)+1*a}))})):t.push(Ir(a,{year:r,index:r-e.props.year+2})),t},[]),u=l.length;return a.a.createElement(G,{position:"relative",mx:"4em"},Object(r.createElement)(o?Pr:wr,{key:"t-".concat(c),data:l,ratio:.66,xTickFormat:function(e){if(c){var t=Math.floor(e/4);return i-(u/4-t)+1+"Q"+(e%4+1)}return i-(u-e)+1}}),a.a.createElement(Ve,{position:"absolute",width:1,top:"0"},a.a.createElement(G,null,a.a.createElement(ht,{color:"darkBlue",bg:"rgba(0,0,0,0.2)",options:["\u6848\u4ef6\u6578","\u6536\u7e73\u7387"],activeIndex:o,onToggle:this.handleToggle("chartType")})),a.a.createElement(G,{ml:"1em"},a.a.createElement(ht,{color:"darkBlue",bg:"rgba(0,0,0,0.2)",options:["\u5e74","\u5b63"],activeIndex:c,onToggle:this.handleToggle("timeType")}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t,n=e.year;return{data:(t={},Object(y.a)(t,n,e["data/bureaus?year=".concat(n)]),Object(y.a)(t,n-1,e["data/bureaus?year=".concat(n-1)]),Object(y.a)(t,n-2,e["data/bureaus?year=".concat(n-2)]),t)}}}]),t}(r.PureComponent),Br=function(e){return Object(r.createElement)(Object(J.c)(pn("data/bureaus?year=".concat(e.year)),pn("data/bureaus?year=".concat(e.year-1)),pn("data/bureaus?year=".concat(e.year-2)))(Ar),e)},Lr=function(e){var t=e.lastUpdated;return a.a.createElement(Qe,null,"\u8cc7\u6599\u66f4\u65b0\u65e5\u671f\uff1a",Mt()(t,"date"))},zr=function(e){return Object(r.createElement)(pn("lastUpdated")(Lr),e)};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Fr=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={sortBy:"receiveRate",sortOrder:"asc",chartIndex:0,lawType:0,typeLegends:[],year:Ne()(n.props.yearsList)},n.handleTypeFilter=function(e){return n.setState({activeType:e})},n.handleChartToggle=function(e){return n.setState({chartIndex:e})},n.handleYearChange=function(e){(0,n.props.updateParams)({year:e}),n.setState({year:e})},n.setLawType=function(e){return n.setState({lawType:e})},n.setLock=function(e){return n.setState({lockId:e})},n.handleReset=function(){return n.setState({lockId:null,chartIndex:0,lawType:0,activeType:null})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,o=t.typeList,c=t.yearsList,i=this.state,l=i.sortBy,u=i.sortOrder,s=i.chartIndex,d=i.activeType,p=i.mappedData,m=i.year,f=i.lawType,h=i.typeLegends,b=i.lockId,g=function(e,t){return e.map(function(e){var n=e.label,r=e.id,a=e.monthData;return Dr({label:n,id:r},Rr.reduce(function(e,n){return e[n]=a.reduce(function(e,r){return e+(t?r.types[t].data[n]:r.data[n])},0),e},{}))}).map(function(e){return Dr({},e,{receiveRate:e.received/e.issued,receiveDollarRate:e.receivedDollar/e.issuedDollar})})}(p,d),y=Tr(p,d,b),v=function(e,t){return Object.values(te()(e,function(e,n){var r=n.monthData,a=n.id;return t&&t!==a||r.forEach(function(t){t.types.forEach(function(t){e[t.id]=e[t.id]||{id:t.id,name:t.name,issued:0,received:0},e[t.id].issued+=t.data.issued,e[t.id].received+=t.data.received})}),e},{}))}(n,b);return a.a.createElement(mn,null,a.a.createElement(G,{backgroundImage:"linear-gradient(#fff 80%, #e0e0e4 100%)"},a.a.createElement(Lt,{py:"4em"},a.a.createElement(Ge,null,a.a.createElement(Ve,{alignItems:"center"},a.a.createElement(Qe,{mr:"0.75em",fontSize:"1.25em",fontWeight:"bold",letterSpacing:"0.15em"},"\u6848\u4ef6\u985e\u5225"),a.a.createElement(G,{width:"12em",py:"1em"},a.a.createElement(jt,{placeholder:"\u5168\u90e8",value:d,options:o.map(function(e){return e.name}),onChange:function(t){var n=t.value;return e.handleTypeFilter(n)}})),a.a.createElement(G,{flex:"1"}),a.a.createElement(zr,null)),a.a.createElement(Ve,{alignItems:"center"},a.a.createElement(Qe,{mr:"0.75em",fontSize:"1.25em",fontWeight:"bold",letterSpacing:"0.15em"},"\u5404\u5c40\u8655\u6848\u4ef6\u91cf\u5206\u6790"),a.a.createElement(pt,{currentYear:m,years:c,onChange:this.handleYearChange})),a.a.createElement(G,{textAlign:"right",my:"1em"},a.a.createElement(ut,{onClick:this.handleReset},"\u5207\u56de\u9810\u8a2d")),a.a.createElement(Mn,{ratio:.25,data:g,sortBy:l,sortOrder:u,lockId:b,onLock:this.setLock})))),a.a.createElement(G,{py:P(0,"2em"),gradient:"darkBlue"},a.a.createElement(Ge,null,a.a.createElement(Ve,{borderBottom:"1px solid"},a.a.createElement(G,{pl:"1em",pr:"2em",width:.4,borderRight:"1px solid"},a.a.createElement(G,{position:"relative"},Object(r.createElement)(s?tr:$n,Object.assign({ratio:.6,data:v,legends:h,onLegendClick:this.handleTypeFilter,activeLegend:d},s?{}:{valueGetter:function(e){return e.issued},outerCircle:!0,showLegend:!0})),a.a.createElement(G,{position:"absolute",top:"0",left:"0"},a.a.createElement(ht,{activeIndex:s,onToggle:this.handleChartToggle,options:["\u6848\u4ef6\u6578","\u6536\u7e73\u7387"]})),a.a.createElement(G,{position:"absolute",right:"0",bottom:"0"},!s&&a.a.createElement(Tt,{is:ut.lightBg,label:"\u67e5\u770b\u66f4\u591a",title:"\u6848\u4ef6\u5206\u985e\u5206\u6790"},a.a.createElement(G,{px:"15%"},a.a.createElement($n,{ratio:1,valueGetter:function(e){return e.issued},data:v,showPercentage:!0,legends:h,showLabel:!0})))))),a.a.createElement(G,{pl:"2em",pr:"1em",width:.6},a.a.createElement(Ve,{pt:"0.5em",pb:"1.25em",alignItems:"center",borderBottom:"1px solid"},a.a.createElement(Qe,{fontSize:"1.5em"},a.a.createElement(Qe.inline,{letterSpacing:"0.15em"},"\u9055\u53cd\u6cd5\u689d")," TOP 5"),a.a.createElement(Tt,{is:ut.lightBg,label:"\u67e5\u770b\u66f4\u591a",title:"\u9055\u53cd\u6cd5\u689dTOP10",mx:"2em"},a.a.createElement(Ve,{alignItems:"center"},a.a.createElement(G,{mx:"2em"},a.a.createElement(G,{my:"1em"},a.a.createElement(ut,{active:0===f,onClick:function(){return e.setLawType(0)}},"\u6240\u6709\u6cd5\u689d\u5206\u6790")),a.a.createElement(G,{my:"1em"},a.a.createElement(ut,{active:1===f,onClick:function(){return e.setLawType(1)}},"\u516c\u5b89\u6cd5\u689d\u5206\u6790"))),a.a.createElement(G,{flex:"1",px:"2em"},a.a.createElement(or,{key:10,top:10,year:m,color:"text",ratio:.64,lockId:b})))),a.a.createElement(G,{flex:"1"}),a.a.createElement(mr,{year:m})),a.a.createElement(or,{key:5,year:m,top:5,hasLine:!0,color:"white",ratio:.35,lockId:b}))),a.a.createElement(Ve,{px:"5%",py:"2em",alignItems:"center"},a.a.createElement(G,{px:"2em"},a.a.createElement(pt,{justifyContent:"center",darkBg:!0,currentYear:m,years:c,onChange:this.handleYearChange}),a.a.createElement(G,{fontSize:"1.5em",letterSpacing:"0.15em",my:"1em",borderBottom:"1px solid",pb:"0.5rem"},"\u6708\u6848\u4ef6\u91cf\u5206\u6790"),a.a.createElement(G,{textAlign:"center"},a.a.createElement(Tt,{is:ut.lightBg,label:"\u770b\u6b77\u5e74\u5206\u6790",title:"".concat(m-2,"-").concat(m,"\u6848\u4ef6\u91cf\u5206\u6790")},a.a.createElement(Br,{year:m})))),a.a.createElement(G,{flex:"1"},a.a.createElement(dr,{ratio:.2,data:y}))))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.typeList,n=e.data;return{mappedData:Ye()(n,function(e){var t=e.id;return{label:e.name,id:t,monthData:e.monthData.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{types:e.types.reduce(function(e,t){return e[t.name]=t,e},{})})})}}),typeLegends:t.map(function(e,t){return{label:e.name,color:L.colors.spectrum[L.colors.spectrum.length-1-t]}})}}}]),t}(r.PureComponent),_r=Object(J.c)(pn("yearsList"),pn("typeList"),function(e){var t="data/bureaus";return console.log(window.__ID,"00000000"!==window.__ID),"undefined"!==typeof window&&"00000000"!==window.__ID&&(t="".concat(t,"/").concat(window.__ID)),un(t)(function(n){return Object(r.createElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{data:n[t]}))})})(Fr);var Wr=function(){return a.a.createElement(_r,null)};c.a.render(a.a.createElement(function(e){var t=e.children;return a.a.createElement(p.a,{store:Me},a.a.createElement(_e,null,a.a.createElement(H,null,t)))},null,a.a.createElement(Wr,null)),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.14a905bd.chunk.js.map